# AI Resume - Environment Configuration
# Copy this file to .env and configure your values
#
# Network Prerequisites:
#   podman network create yellow-net --subnet 192.168.100.0/24 --gateway 192.168.100.1
#
# Host Directory Structure:
#   /opt/ai-resume/
#   ├── data/.memvid/resume.mv2   # Your trained memory file
#   ├── data/profile.toml         # Instance configuration
#   └── logs/{rust,python}/       # Service logs

export PROJECT_BASE_DIR=/opt/ai-resume

# =============================================================================
# REQUIRED: OpenRouter API Key
# =============================================================================
OPENROUTER_API_KEY=sk-or-v1-your-key-here

# =============================================================================
# Memvid Configuration
# =============================================================================
# Filename of your .mv2 file (in /opt/ai-resume/data/.memvid/)
MEMVID_FILENAME=resume.mv2

# =============================================================================
# LLM Model Selection
# =============================================================================
# Options:
#   nvidia/nemotron-nano-2407-instruct (recommended, free tier available)
#   nvidia/nemotron-nano-2407:free (completely free)
#   deepseek/deepseek-r1 ($2.30/1M output tokens)
LLM_MODEL=nvidia/nemotron-nano-9b-v2:free

# =============================================================================
# Optional: Container Registry
# =============================================================================
# Change if using a remote registry
REGISTRY=localhost
VERSION=latest

# =============================================================================
# Optional: API Server Tuning
# =============================================================================
SESSION_TTL=1800
RATE_LIMIT=10
LOG_LEVEL=INFO

# =============================================================================
# Optional: Multi-Instance & Network Configuration
# =============================================================================
# For multi-instance deployments or custom network setups (e.g., macvlan without DNS)

# Frontend → API backend (default: ai-resume-api:3000)
# For macvlan without Podman DNS, use IP address or OpenWrt DHCP hostname
# API_BACKEND_HOST=192.168.100.11  # or jane-api.local
# API_BACKEND_PORT=3000

# API → memvid backend (default: ai-resume-memvid:50051)
# For macvlan without Podman DNS, use IP address or OpenWrt DHCP hostname
# MEMVID_GRPC_HOST=192.168.100.12  # or jane-memvid.local
# MEMVID_GRPC_PORT=50051

# =============================================================================
# Optional: IPv4/IPv6 Network Configuration
# =============================================================================
# All services auto-detect and support IPv4-only, IPv6-only, or dual-stack
# Override only if you have specific network requirements

# Bind address for all services (auto-detect by default)
# Options: "auto" (default), "::" (IPv6/dual-stack), "0.0.0.0" (IPv4-only)
# BIND_ADDRESS=auto

# Healthcheck URL overrides (only needed for custom network configs)
# By default, healthchecks try both IPv6 ([::1]) and IPv4 (127.0.0.1)
# GRPC_URL=http://127.0.0.1:50051              # Force IPv4 for memvid gRPC
# HEALTH_CHECK_URL=http://127.0.0.1:3000/health  # Force IPv4 for API HTTP
